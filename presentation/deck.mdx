import { Head, Header, Steps } from 'mdx-deck';
import { CodeSurfer } from 'code-surfer';
import { nightOwl } from '@code-surfer/themes';
import { FootNote } from './components/FootNote';
import { Logo } from './components/Logo';
import { Link } from './components/Link';
import { theme as myTheme } from './theme';

export const theme = myTheme;

<Head>
  <title>üöÄ Introduction √† React.js ‚Äî @greeeg</title>
</Head>

<Header>
  <Logo />
</Header>

# Introduction √† React.js

HETIC P2023

---

# Hello üíÇ‚Äç‚ôÇÔ∏è

---

# Gr√©goire Mielle

- üì£ Twitter: [@greeeg](https://twitter.com/greeeg)
- üî¨ GitHub: [@greeeg](https://github.com/greeeg)
- ‚úèÔ∏è Email: [hello@greeeg.com](mailto:hello@greeeg.com)

---

<Steps>

- üë®‚Äçüíª √âtudiant en H5
- üë®‚ÄçüöÄ Software Engineer [@PayFit](https://payfit.com/en/)
- üí∏ Freelance

</Steps>

---

<Steps>

- Une expertise pour tout le monde
- Une comp√©tence pour vos futurs projets & stages
- Si vous √™tes perdu, dites-le
- Challengez-moi !

</Steps>

---

# M√©thodologie

- üìö Must read
- üçø Must watch
- ‚ö°Ô∏è Must learn
- üë®‚Äçüî¨ Action time

---

# Un peu d'histoire...

Comment fonctionne l'affichage d'une page web ?

---

import SSRDiagram from './static/ssr-diagram.png';

<img src={SSRDiagram} style={{ width: 'auto', height: '70vh' }} />

<FootNote>
  üìö{' '}
  <a href="https://www.freecodecamp.org/news/how-the-web-works-a-primer-for-newcomers-to-web-development-or-anyone-really-b4584e63585c/">
    Comment le web fonctionne ?
  </a>
</FootNote>

---

import ClientSideRenderingDiagram from './static/client-side-rendering-diagram.png';

<img
  src={ClientSideRenderingDiagram}
  style={{ width: 'auto', height: '70vh' }}
/>

---

import AndroidJqueryReact from './static/android-jquery-react.png';

<img
  src={AndroidJqueryReact}
  style={{ width: '60vw', height: 'auto', marginBottom: 40 }}
/>

Quel est le lien entre toutes ces technologies ?

---

# Technologies client-side

<Steps>

- Interfaces plus complexes
- Beaucoup plus d'interactions

</Steps>

---

# Les besoins c√¥t√© utilisateur ont √©volu√©

- Exp√©rience mobile (3G, offline, etc.)
- Sources de donn√©es nombreuses

<FootNote>
  üìö <a href="https://web.dev/">Le futur du web avec Google - Web.dev</a>
</FootNote>

---

import Craiglist from './static/craiglist.png';

<img src={Craiglist} style={{ height: '60vh', width: 'auto' }} />

---

import Twitter from './static/twitter.png';

<img src={Twitter} style={{ height: '60vh', width: 'auto' }} />

---

# De nouvelles solutions ont √©merg√©

- Jquery (2006)
- Angular.js (2009)
- Backbone.js (2010)
- Ember.js (2011)
- React.js (2013)
- Vue.js (2014)

---

# ü§î

<Steps>

- Comment bien les choisir ?
- Quelles diff√©rences/ressemblances ?

</Steps>

---

# üìö [State of JS - 2019 Edition](https://2019.stateofjs.com/)

---

import ReactNPMStats from './static/react-npm-stats.png';

<img src={ReactNPMStats} style={{ height: '50vh', width: 'auto' }} />

---

import ReactGitHubStats from './static/react-github-stats.png';

<img src={ReactGitHubStats} style={{ width: '80vw', height: 'auto' }} />

---

import ReactChromeStats from './static/react-chrome-stats.png';

<img src={ReactChromeStats} style={{ width: '60vw', height: 'auto' }} />

---

# React.js

A JavaScript library for building user interfaces

---

<Steps>

- Declarative
- Component-Based
- Learn Once, Write Anywhere

</Steps>

---

# Declarative vs Imperative

**Dessine un chat.** vs **Fais un trait noir, puis un arrondi vers le bas, etc.**

<FootNote>
  üìö{' '}
  <a href="https://codeburst.io/declarative-vs-imperative-programming-a8a7c93d9ad2">
    Declarative vs Imperative programming
  </a>
</FootNote>

---

import SheetImperative from './static/sheet-imperative.gif';

# Imperative

<img
  src={SheetImperative}
  style={{ width: '50vw', height: 'auto', marginBottom: 50 }}
/>

On doit effectuer un calcul √† chaque modification d'une des 2 variables qui d√©finissent "fullname"

---

import SheetDeclarative from './static/sheet-declarative.gif';

# Declarative

<img
  src={SheetDeclarative}
  style={{ width: '50vw', height: 'auto', marginBottom: 50 }}
/>

On d√©clare comment "fullname" est d√©fini sans jamais le modifier manuellement

---

import ComponentsTree from './static/components-tree.png';

# Component-based

<img src={ComponentsTree} style={{ width: 'auto', height: '40vh' }} />

<FootNote>
  üìö{' '}
  <a href="https://itnext.io/a-guide-to-component-driven-development-cdd-1516f65d8b55">
    A Guide to Component Driven Development
  </a>
</FootNote>

---

import ReactPlatforms from './static/react-platforms.png';

# Learn Once, Write Anywhere

<img src={ReactPlatforms} style={{ width: '60vw', height: 'auto' }} />

<FootNote>
  üçø{' '}
  <a href="https://reactpodcast.simplecast.fm/81">
    React Podcast: Evan Bacon on Expo and the Future of "Build Once; Run
    Anywhere"
  </a>
</FootNote>

---

# Qui l'utilise ?

- Facebook (FB.com, WhatsApp, Instagram)
- American Express
- Apple
- Baidu
- Netflix
- Uber

---

# Qui l'utilise ?

- Skype
- Tesla
- Slack
- Discord
- Walmart
- Pinterest

---

# Qui l'utilise ?

- Twitter
- PayPal
- Tinder
- AirBnB
- Dropbox
- PayFit

---

## Les bases de React.js

<Link step={39}>Le JSX</Link>
<Link step={45}>Les composants</Link>
<Link step={51}>Les props</Link>
<Link step={57}>Le style</Link>
<Link step={68}>Gestion des √©v√®nements</Link>

---

<Link step={72}>Le state</Link>
<Link step={80}>Le cycle de vie</Link>
<Link step={89}>Le rendu conditionnel</Link>
<Link step={92}>Les listes</Link>
<Link step={94}>Les formulaires</Link>

---

# Hello World üöÄ

---

# Comment cr√©e-t-on un √©l√©ment du DOM en Javascript ?

---

<CodeSurfer theme={nightOwl}>

```html subtitle="On r√©cup√®re une r√©f√©rence de notre parent"
<body>
  <div id="root"></div>

  <script type="text/javascript">
    function addHelloWorld() {
      const root = document.querySelector('#root');
    }
  </script>
</body>
```

```html subtitle="On cr√©e un √©l√©ment"
<body>
  <div id="root"></div>

  <script type="text/javascript">
    function addHelloWorld() {
      const root = document.querySelector('#root');
      const element = document.createElement('div');
      element.textContent = 'Hello World';
      element.className = 'container';
    }
  </script>
</body>
```

```html 1:13 subtitle="On l'ajoute dans le parent"
<body>
  <div id="root"></div>

  <script type="text/javascript">
    function addHelloWorld() {
      const root = document.querySelector('#root');
      const element = document.createElement('div');
      element.textContent = 'Hello World';
      element.className = 'container';
      root.appendChild(element);
    }
  </script>
</body>
```

</CodeSurfer>

---

# Avec React.js

---

<CodeSurfer theme={nightOwl}>

```html subtitle="On importe deux packages/librairies"
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script type="text/javascript"></script>
</body>
```

```html subtitle="On r√©cup√®re une r√©f√©rence de notre parent"
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script type="text/javascript">
    function addHelloWorld() {
      const root = document.getElementById('root');
    }
  </script>
</body>
```

```html subtitle="On cr√©e notre √©l√©ment"
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script type="text/javascript">
    function addHelloWorld() {
      const root = document.getElementById('root');
      const element = React.createElement('div', {
        className: 'container',
        children: 'Hello World'
      });
    }
  </script>
</body>
```

```html subtitle="On l'ajoute dans le parent"
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script type="text/javascript">
    function addHelloWorld() {
      const root = document.getElementById('root');
      const element = React.createElement('div', {
        className: 'container',
        children: 'Hello World'
      });
      ReactDOM.render(element, root);
    }
  </script>
</body>
```

</CodeSurfer>

---

# Pour utiliser React.js on a donc besoin de 2 packages

<Steps>

- **React**: Les fonctionnalit√©s permettant de d√©finir des composants React
- **React DOM**: Un moteur de rendu pour le web

</Steps>

---

<CodeSurfer theme={nightOwl}>

```html
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script type="text/javascript">
    function addHelloWorld() {
      const root = document.getElementById('root');
      const element = React.createElement('div', {
        className: 'container',
        children: 'Hello World'
      });
      ReactDOM.render(element, root);
    }
  </script>
</body>
```

```html subtitle="Du HTML dans du Javascript ü§î"
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
  <script type="text/babel">
    function addHelloWorld() {
      const root = document.getElementById('root');
      const element = <div className="container">Hello World</div>;
      ReactDOM.render(element, root);
    }
  </script>
</body>
```

</CodeSurfer>

---

# Le JSX

<Steps>

- Une extension syntaxique au Javascript
- Transpil√© par [Babel](https://babeljs.io/en/repl#?browsers=&build=&builtIns=false&spec=false&loose=false&code_lz=MYewdgzgLgBApgGzgWzmWBeGAeAJgSwDcZgEBDCCAOTNQwCJR0z8w4AnegPgAlEEQMAOoh2CXNgD0BQlyA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=false&fileSize=false&timeTravel=false&sourceType=module&lineWrap=true&presets=es2015%2Creact%2Cstage-2&prettier=false&targets=&version=7.8.7&externalPlugins=) en Javascript

</Steps>

<FootNote>
  üìö <a href="https://jasonformat.com/wtf-is-jsx/">WTF is JSX?</a>
</FootNote>

---

# Pourquoi le JSX ?

<Steps>

- Permet de d√©finir des arbres de composants simplement
- S'appuie sur une syntaxe famili√®re (le HTML)

</Steps>

---

## ‚ö†Ô∏è Pour utiliser du **JSX**, on doit avoir Babel configur√© sur son projet

---

<CodeSurfer theme={nightOwl}>

```jsx subtitle="Si la variable ne contient qu'un √©l√©ment, on l'√©crit comme √ßa"
const message = <p>Hello World</p>;
ReactDOM.render(message, document.getElementById('root'));
```

```jsx subtitle="Si la variable contient des √©l√©ments imbriqu√©s, on l'√©crit comme √ßa"
const message = (
  <div>
    <p>Hello World</p>
  </div>
);
ReactDOM.render(message, document.getElementById('root'));
```

</CodeSurfer>

---

## Embedded expressions

---

<CodeSurfer theme={nightOwl}>

```jsx subtitle="En Javascript, on peut utiliser les template strings pour int√©grer des expressions dans une cha√Æne de caract√®res"
const price = 12.5;
const tva = 19.6;
const total = price + price * (tva / 100);

const message = `The price with included taxes is ${total} euros.`;
```

```jsx subtitle="On peut m√™me directement appeler des fonctions"
const price = 12.5;
const tva = 19.6;
const total = price + price * (tva / 100);

const message = `The price with included taxes is ${parseInt(total)} euros.`;
```

```jsx subtitle="En JSX, on peut faire la m√™me chose en omettant le $"
const price = 12.5;
const tva = 19.6;
const total = price + price * (tva / 100);

const message = <p>The price with included taxes is {total} euros.</p>;
ReactDOM.render(message, document.getElementById('root'));
```

```jsx subtitle="Et aussi appeler des fonctions dans le JSX"
const price = 12.5;
const tva = 19.6;
const total = price + price * (tva / 100);

const message = (
  <p>The price with included taxes is {parseInt(total)} euros.</p>
);
ReactDOM.render(message, document.getElementById('root'));
```

</CodeSurfer>

---

# Les composants React.js

---

## On d√©finit un composant comme √©tant un √©l√©ment/objet qui entre dans la composition de quelque chose

---

<CodeSurfer theme={nightOwl}>

```jsx subtitle="Imaginons une application de cartes d'anniversaire"
const julia = 'Julia Robert';

const wishMessageJulia = `HAPPY BIRTHDAY ${julia.toUpperCase()}!`;
```

```jsx subtitle="Dans laquelle on g√©n√®re des messages d'anniversaire"
const julia = 'Julia Robert';
const thomas = 'Thomas Ren√©';

const wishMessageJulia = `HAPPY BIRTHDAY ${julia.toUpperCase()}!`;
const wishMessageThomas = `HAPPY BIRTHDAY ${thomas.toUpperCase()}!`;
```

```jsx subtitle="Pour simplifier la t√¢che, on cr√©e une fonction qui g√©n√®re les messages"
const julia = 'Julia Robert';
const thomas = 'Thomas Ren√©';

function wishHappyBirthday(name) {
  return `HAPPY BIRTHDAY ${name.toUpperCase()}!`;
}

const wishMessageJulia = wishHappyBirthday(julia);
const wishMessageThomas = wishHappyBirthday(thomas);
```

</CodeSurfer>

---

<CodeSurfer theme={nightOwl}>

```jsx subtitle="Si on souhaitait r√©aliser cette application avec React.js, on cr√©erait s√ªrement les √©l√©ments suivants"
const julia = 'Julia Robert';
const thomas = 'Thomas Ren√©';

const wishMessageJulia = <p>HAPPY BIRTHDAY {julia.toUpperCase()}!</p>;
const wishMessageThomas = <p>HAPPY BIRTHDAY {thomas.toUpperCase()}!</p>;

const app = (
  <div>
    {wishMessageJulia}
    {wishMessageThomas}
  </div>
);
```

```jsx subtitle="On peut, comme en Javascript, cr√©er une fonction qui g√©n√®re ces messages"
const julia = 'Julia Robert';
const thomas = 'Thomas Ren√©';

function WishHappyBirthday() {
  return <p>HAPPY BIRTHDAY!</p>;
}
```

</CodeSurfer>

---

## Les composants React.js

<Steps>

- Des fonctions qui retournent des √©l√©ments React.js
- Ou d'autres composants (fonctions) qu'on a cr√©√©
- Des briques d'interface r√©utilisables

</Steps>

---

<CodeSurfer theme={nightOwl}>

```jsx subtitle="‚õîÔ∏è Pour utiliser ces composants, on ne les appelle pas comme des fonctions Javascript"
function WishHappyBirthday() {
  return <p>HAPPY BIRTHDAY!</p>;
}

const app = (
  <div>
    {WishHappyBirthday()}
    {WishHappyBirthday()}
  </div>
);
```

```jsx subtitle="‚úÖ Mais comme ceci"
function WishHappyBirthday() {
  return <p>HAPPY BIRTHDAY!</p>;
}

const app = (
  <div>
    <WishHappyBirthday />
    <WishHappyBirthday />
  </div>
);
```

```jsx subtitle="Cela permet de les diff√©rencier des √©l√©ments natifs en JSX"
function WishHappyBirthday() {
  return <p>HAPPY BIRTHDAY!</p>;
}

const app = (
  <div>
    <WishHappyBirthday />
    <a href="/index.html">Link to home</a>
    <WishHappyBirthday />
  </div>
);
```

```jsx subtitle="On peut aussi les √©crire comme ceci"
const WishHappyBirthday = () => {
  return <p>HAPPY BIRTHDAY!</p>;
};

const app = (
  <div>
    <WishHappyBirthday />
    <a href="/index.html">Link to home</a>
    <WishHappyBirthday />
  </div>
);
```

```jsx subtitle="On encore comme ceci"
const WishHappyBirthday = () => <p>HAPPY BIRTHDAY!</p>;

const app = (
  <div>
    <WishHappyBirthday />
    <a href="/index.html">Link to home</a>
    <WishHappyBirthday />
  </div>
);
```

</CodeSurfer>

---

# Les props

---

## Les props sont des param√®tres/arguments pass√©s aux composants React.js pour :

<Steps>

1. afficher quelque chose de dynamique
2. pour faire du rendu conditionnel
3. pour passer ce m√™me param√®tre a un composant enfant

</Steps>

---

<CodeSurfer theme={nightOwl}>

```jsx subtitle="Sans props, impossible de rendre dynamique ce que mon composant affiche"
function WishHappyBirthday() {
  return <p>HAPPY BIRTHDAY!</p>;
}

const App = () => <WishHappyBirthday />;
```

```jsx subtitle="Ici, je passe une prop qui est utilis√©e dans le JSX"
function WishHappyBirthday(props) {
  return <p>HAPPY BIRTHDAY {props.name.toUpperCase()}!</p>;
}

const App = () => <WishHappyBirthday name="Julia" />;
```

```jsx subtitle="On peut simplifer l'√©criture en destructurant l'objet props"
function WishHappyBirthday({ name }) {
  return <p>HAPPY BIRTHDAY {name.toUpperCase()}!</p>;
}

const App = () => <WishHappyBirthday name="Julia" />;
```

</CodeSurfer>

---

# ‚ö°Ô∏èEn r√©sum√©

<Steps>

- **React.js** est une librairie pour construire des interfaces
- cr√©√©es √† partir de **briques r√©utilisables** (components)
- qui utilise une extension syntaxique appel√©e le **JSX**

</Steps>

---

# ‚ö°Ô∏èEn r√©sum√©

<Steps>

- elle s'appuie sur 2 packages (**`react`** & **`react-dom`**)
- mais peut aussi √™tre utilis√©e ailleurs (native, VR, etc.)

</Steps>

---

<CodeSurfer theme={nightOwl}>

```jsx subtitle="Attention √† ne pas confondre composants et √©l√©ments"
const element = (
  <a href="https://google.com" title="Google">
    Search on Google
  </a>
);

function Component() {
  return (
    <a href="https://google.com" title="Google">
      Search on Google
    </a>
  );
}

const App = () => (
  <div>
    {element}
    <Component />
  </div>
);
```

</CodeSurfer>

---

# Le style en React.js

---

## Il existe trois mani√®res de styliser des applications React

---

# En utilisant du CSS classique

---

<CodeSurfer theme={nightOwl}>

```html
<body>
  <div id="root"></div>
  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
  <style>
    .box {
      border: 1px solid #333;
      display: flex;
      flex-direction: column;
      justify-content: center;
      text-align: center;
    }
    .box--large {
      width: 270px;
      height: 270px;
    }
  </style>
  <script type="text/babel">
    const Box = ({ children }) => {
      return <div className="box box--large">{children}</div>;
    };

    const element = (
      <div>
        <Box>small lightblue box</Box>
      </div>
    );

    ReactDOM.render(element, document.getElementById('root'));
  </script>
</body>
```

```html 7:17
<body>
  <div id="root"></div>
  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
  <style>
    .box {
      border: 1px solid #333;
      display: flex;
      flex-direction: column;
      justify-content: center;
      text-align: center;
    }
    .box--large {
      width: 270px;
      height: 270px;
    }
  </style>
  <script type="text/babel">
    const Box = ({ children }) => {
      return <div className="box box--large">{children}</div>;
    };

    const element = (
      <div>
        <Box>small lightblue box</Box>
      </div>
    );

    ReactDOM.render(element, document.getElementById('root'));
  </script>
</body>
```

```html 22:26
<body>
  <div id="root"></div>
  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
  <style>
    .box {
      border: 1px solid #333;
      display: flex;
      flex-direction: column;
      justify-content: center;
      text-align: center;
    }
    .box--large {
      width: 270px;
      height: 270px;
    }
  </style>
  <script type="text/babel">
    const Box = ({ children }) => {
      return <div className="box box--large">{children}</div>;
    };

    const element = (
      <div>
        <Box>small lightblue box</Box>
      </div>
    );

    ReactDOM.render(element, document.getElementById('root'));
  </script>
</body>
```

</CodeSurfer>

---

# En utilisant du style inline

---

<CodeSurfer theme={nightOwl}>

```jsx
const Header = () => (
  <header style={{ marginTop: 20, fontSize: 17 }}>
    <div style={{ paddingLeft: 10 }}>
      <img src="/assets/logo.png" style={{ width: 100, height: 'auto' }} />
    </div>
  </header>
);
export default Header;
```

</CodeSurfer>

---

# En utilisant des librairies de **CSS-in-JS**

(Nous reviendrons dessus plus tard)

<FootNote>
  üìö{' '}
  <a href="https://2019.stateofcss.com/technologies/css-in-js/">
    State of CSS - 2019 Edition
  </a>
</FootNote>

---

## üë®‚Äçüî¨ Nous allons r√©aliser un clone de Slack √† partir d'[une int√©gration front](https://github.com/greeeg/hetic-p2023-react/blob/master/resources/slack/index.html)

---

import LegoBricks from './static/lego-bricks.png';

<img src={LegoBricks} style={{ width: '60vw', height: 'auto' }} />

---

import LegoComponentsGood from './static/lego-components-good.jpeg';
import LegoComponentsBad from './static/lego-components-bad.jpeg';

<div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>
  <img
    style={{ width: 'auto', height: '50vh', marginRight: 40 }}
    src={LegoComponentsGood}
    alt=""
  />
  <img
    style={{ width: 'auto', height: '50vh' }}
    src={LegoComponentsBad}
    alt=""
  />
</div>

---

# Construire une interface √† partir de composants r√©utilisables

<Steps>

- Avoir de petites entit√©s autonomes
- Les faire √©voluer de maniere isol√©e
- Travailler plus efficacement √† plusieurs

</Steps>

---

# Gestion des √©v√®nements

---

## De mani√®re g√©n√©rale, on utilise le Javascript pour dynamiser des pages web :

- Pour cr√©er des interactions (Click, Keydown, etc)
- Pour cr√©er des animations
- Et bien plus (AJAX, WebGL, Web APIs, etc.)

---

<CodeSurfer theme={nightOwl}>

```jsx subtitle="On r√©cup√®re l'√©l√©ment sur lequel on souhaite greffer l'√©venement"
const input = document.querySelector('input');
```

```jsx subtitle="On ajoute un √©couteur d'√©venement sur cet √©l√©ment"
const input = document.querySelector('input');

input.addEventListener('keyup', (e) => {});
```

```jsx subtitle="On y ajoute la logique voulue"
const input = document.querySelector('input');

input.addEventListener('keyup', (e) => {
  const text = e.target.value;

  if (text.length > 10) {
    alert('This is way too long');
  } else {
    document.title = `(${text}) Learning Javascript`;
  }
});
```

```jsx
const input = document.querySelector('input');

input.addEventListener('keyup', (e) => {
  const text = e.target.value;

  if (text.length > 10) {
    alert('This is way too long');
  } else {
    document.title = `(${text}) Learning Javascript`;
  }
});
```

</CodeSurfer>

---

<CodeSurfer theme={nightOwl}>

```jsx subtitle="On cr√©e notre composant"
const TextInput = () => {
  return <input type="text" />;
};

const App = () => <TextInput />;
```

```jsx subtitle="On ajoute un √©couteur d'√©v√®nement sur l'√©l√©ment du DOM qui nous int√©resse"
const TextInput = () => {
  const onChange = () => {};

  return <input type="text" onKeyUp={onChange} />;
};

const App = () => <TextInput />;
```

```jsx subtitle="On y ajoute la logique voulue"
const TextInput = () => {
  const onChange = (e) => {
    const text = e.target.value;

    if (text.length > 10) {
      alert('This is way too long');
    } else {
      document.title = `(${text}) Learning Javascript`;
    }
  };

  return <input type="text" onKeyUp={onChange} />;
};

const App = () => <TextInput />;
```

```jsx
const TextInput = () => {
  const onChange = (e) => {
    const text = e.target.value;

    if (text.length > 10) {
      alert('This is way too long');
    } else {
      document.title = `(${text}) Learning Javascript`;
    }
  };

  return <input type="text" onKeyUp={onChange} />;
};

const App = () => <TextInput />;
```

</CodeSurfer>

---

# Le state

---

### Le state est similaire aux **props**. Il permet d'apporter une notion de dynamisme au composant.

<Steps>

- Priv√©
- Contr√¥l√© par le composant

</Steps>

---

<CodeSurfer theme={nightOwl}>

```jsx
import React from 'react';

const Counter = () => {
  return <button>Clicked: 0</button>;
};
```

```jsx
import React from 'react';

const Counter = () => {
  return <button onClick={() => console.log('clicked')}>Clicked: 0</button>;
};
```

```jsx
import React, { useState } from 'react';

const Counter = () => {
  const [count, setCount] = useState(0);

  return <button onClick={() => console.log('clicked')}>Clicked: 0</button>;
};
```

```jsx
import React, { useState } from 'react';

const Counter = () => {
  const [count, setCount] = useState(0);

  return <button onClick={() => setCount(count + 1)}>Clicked: {count}</button>;
};
```

```jsx
import React, { useState } from 'react';

const Counter = () => {
  const [count, setCount] = useState(0);

  return <button onClick={() => setCount(count + 1)}>Clicked: {count}</button>;
};
```

</CodeSurfer>

---

# ü§î

<Steps>

- Pourquoi ne pas utiliser simplement une variable ?
- Qu'est-ce que veut dire **useState** ?

</Steps>

---

## **useState** est un m√©canisme propre √† React qui permet de :

<Steps>

- Affecter une nouvelle valeur √† la variable
- Pr√©venir React de ce changement

</Steps>

---

# On appelle cela un **hook**

Les hooks ont √©t√© introduit dans React √† partir de la version **16.8**. Ils permettent d'utiliser des fonctionnalit√©s de React sans √©crire de **Class**.

<FootNote>
  üìö{' '}
  <a href="https://medium.com/better-programming/react-hooks-vs-classes-add2676a32f2">
    React: Hooks vs Classes?
  </a>
</FootNote>

---

<CodeSurfer theme={nightOwl}>

```jsx subtitle="Un composant Counter √©crit avec un hook ressemble √† cela"
import React, { useState } from 'react';

const Counter = () => {
  const [count, setCount] = useState(0);

  return <button onClick={() => setCount(count + 1)}>Clicked: {count}</button>;
};
```

```jsx subtitle="Mais on peut aussi l'√©crire de cette mani√®re"
import React, { Component } from 'react';

class Counter extends Component {
  constructor(props) {
    super(props);

    this.state = {
      count: 0
    };
  }

  render() {
    return (
      <button onClick={() => this.setState({ count: this.state.count + 1 })}>
        Clicked: {count}
      </button>
    );
  }
}
```

</CodeSurfer>

---

## üë®‚Äçüî¨ Nous allons r√©aliser une interface de Threads √† partir d'[une int√©gration front](https://github.com/greeeg/hetic-p2023-react/blob/master/resources/threads/index.html)

---

# Le cycle de vie des composants

---

## Un composant React.js peut √™tre mis √† jour :

<Steps>

1. lorsqu'une de ses **props** change
2. lorsque son **state** change

</Steps>

---

## On peut greffer un **side-effect** √† ces changements en utilisant le hook **useEffect**

---

<CodeSurfer theme={nightOwl}>

```jsx
import React, { useState } from 'react';

const Counter = () => {
  const [count, setCount] = useState(0);

  return <button onClick={() => setCount(count + 1)}>Clicked: {count}</button>;
};
```

```jsx
import React, { useState, useEffect } from 'react';

const Counter = () => {
  const [count, setCount] = useState(0);

  // Called each time component updates
  // and on initialization
  useEffect(() => {
    document.title = `You clicked ${count} times`;
  });

  return <button onClick={() => setCount(count + 1)}>Clicked: {count}</button>;
};
```

</CodeSurfer>

---

# On peut pr√©ciser une d√©pendance au **useEffect**

De cette mani√®re, la fonction qu'il contient ne sera appel√©e que lorsque l'une de ces d√©pendances change

---

<CodeSurfer theme={nightOwl}>

```jsx
import React, { useState } from 'react';

const Counter = () => {
  const [integers, setIntegers] = useState(0);
  const [decimals, setDecimals] = useState(0);

  return (
    <div>
      <button onClick={() => setIntegers(integers + 1)}>Add integers</button>
      <button onClick={() => setDecimals(decimals + 1)}>Add decimals</button>

      <p>
        {integers},{decimals}
      </p>
    </div>
  );
};
```

```jsx
import React, { useState, useEffect } from 'react';

const Counter = () => {
  const [integers, setIntegers] = useState(0);
  const [decimals, setDecimals] = useState(0);

  useEffect(() => {
    console.log('counter updated');
  });

  return (
    <div>
      <button onClick={() => setIntegers(integers + 1)}>Add integers</button>
      <button onClick={() => setDecimals(decimals + 1)}>Add decimals</button>

      <p>
        {integers},{decimals}
      </p>
    </div>
  );
};
```

```jsx
import React, { useState, useEffect } from 'react';

const Counter = () => {
  const [integers, setIntegers] = useState(0);
  const [decimals, setDecimals] = useState(0);

  useEffect(() => {
    console.log('integers updated');
  }, [integers]);

  return (
    <div>
      <button onClick={() => setIntegers(integers + 1)}>Add integers</button>
      <button onClick={() => setDecimals(decimals + 1)}>Add decimals</button>

      <p>
        {integers},{decimals}
      </p>
    </div>
  );
};
```

</CodeSurfer>

---

## On peut √©galement pr√©ciser une fonction dite de **cleanup** √† appeler lorsque le composant est d√©mont√©

---

<CodeSurfer theme={nightOwl}>

```jsx
import React, { useState, useEffect } from 'react';

const Counter = () => {
  const [integers, setIntegers] = useState(0);
  const [decimals, setDecimals] = useState(0);

  useEffect(() => {
    console.log('integers updated');
  }, [integers]);

  return (
    <div>
      <button onClick={() => setIntegers(integers + 1)}>Add integers</button>
      <button onClick={() => setDecimals(decimals + 1)}>Add decimals</button>

      <p>
        {integers},{decimals}
      </p>
    </div>
  );
};
```

```jsx
import React, { useState, useEffect } from 'react';

const Counter = () => {
  const [integers, setIntegers] = useState(0);
  const [decimals, setDecimals] = useState(0);

  useEffect(() => {
    console.log('counter mounted');

    return () => {
      console.log('counter unmounted');
    };
  }, []);

  return (
    <div>
      <button onClick={() => setIntegers(integers + 1)}>Add integers</button>
      <button onClick={() => setDecimals(decimals + 1)}>Add decimals</button>

      <p>
        {integers},{decimals}
      </p>
    </div>
  );
};
```

</CodeSurfer>

---

# Quelques r√®gles li√©es aux hooks

<Steps>

- Only Call Hooks **at the Top Level**
- Only Call Hooks **from React Functions**

</Steps>

---

# Le rendu conditionnel

---

## Il permet de rendre un composant que si certaines conditions sont respect√©es

---

<CodeSurfer theme={nightOwl}>

```jsx
const FormInput = () => {
  return (
    <div>
      <input type="text" placeholder="Name" />
      <p>Please fill your name</p>
    </div>
  );
};
```

```jsx
const FormInput = () => {
  const containsError = true;
  return (
    <div>
      <input type="text" placeholder="Name" />
      {containsError && <p>Please fill your name</p>}
    </div>
  );
};
```

```jsx
const FormInput = () => {
  const containsError = true;
  return (
    <div>
      <input type="text" placeholder="Name" />
      {containsError && <p>Please fill your name</p>}
    </div>
  );
};
```

</CodeSurfer>

---

# Les listes

---

<CodeSurfer theme={nightOwl}>

```jsx
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map((number) => number * 2);
```

```jsx
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map((number) => number * 2);

// [2, 4, 6, 8, 10]
```

```jsx
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map((number) => number * 2);

// [2, 4, 6, 8, 10]

const NamesList = () => {
  const names = ['Robert', 'G√©rard', 'Michel'];
  return (
    <ul>
      {names.map((name, index) => {
        return <li key={index}>{name}</li>;
      })}
    </ul>
  );
};
```

</CodeSurfer>

---

# Les champs de formulaire

---

# Controlled component

<Steps>

- Certains √©l√©ments du DOM maintiennent leur √©tat dans une de leur propri√©t√©
- C'est le cas des **Input** dans la propri√©t√© **value**
- On parle de **controlled component** lorsque leur valeur est maintenue dans le state

</Steps>

---

<CodeSurfer theme={nightOwl}>

```jsx
import React from 'react';

const TextInput = () => {
  const value = 'Greg';

  return <input type="text" value={value} />;
};
```

```jsx
import React, { useState } from 'react';

const TextInput = () => {
  const [value, setValue] = useState('Greg');

  return (
    <input
      type="text"
      value={value}
      onChange={(e) => setValue(e.target.value)}
    />
  );
};
```

</CodeSurfer>

---

# Avantages/Inconv√©nients de React.js

---

## Avantages

<Steps>

- Approche orient√©e composant
- √âcosyst√®me/Communaut√©

</Steps>

---

## Inconv√©nients

<Steps>

- Slow startup time
- Bundle Size
- SEO

</Steps>

---

## Alternatives

<Steps>

- Vue.js
- Preact
- Angular
- Svelte.js

</Steps>

---

## Aller plus loin avec React.js

<Link step={103}>create-react-app</Link>
<Link step={113}>React Dev Tools</Link>
<Link step={118}>D√©ployer une app React.js</Link>

---

<Link step={123}>L'AJAX avec React.js</Link>
<Link step={68}>Le CSS-in-JS</Link>
<Link step={68}>Le routing</Link>
<Link step={68}>Les performances</Link>

---

## `create-react-app`

---

`create-react-app` est un outil permettant de cr√©er et maintenir des applications React.js facilement. Il prend la forme d'un **CLI** (Command line interface) qui g√©n√®re une structure de dossiers d'application React.js.

---

## Avantages

- Pas de configuration initiale
- Plein d'√©l√©ments int√©gr√©s par d√©faut (Webpack, Dev server, Babel)
- Maintenu par la communaut√© React.js

---

## Inconv√©nients

- Difficle √† personnaliser pour des cas particuliers
- Une fois qu'on **eject**, impossible de revenir en arri√®re

---

## Pr√©requis

- Node.js (>8.10)
- NPM (>5.2) ou Yarn (>0.25)

---

<CodeSurfer theme={nightOwl}>

```bash
# G√©n√©rer une app avec NPM
npm init react-app app-name

# G√©n√©rer une app avec Yarn
yarn create react-app app-name

# Se d√©placer dans le dossier racine de mon app
cd app-name
```

</CodeSurfer>

---

<CodeSurfer theme={nightOwl}>

```json
{
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject"
  }
}
```

</CodeSurfer>

<FootNote>
  Le package{' '}
  <a href="https://www.npmjs.com/package/react-scripts" target="_blank">
    react-scripts
  </a>{' '}
  contient toute la logique que nous aurions du mettre en place manuellement
  avec Webpack.
</FootNote>

---

<CodeSurfer theme={nightOwl}>

```bash
app-name
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ node_modules
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ public
‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ logo192.png
‚îÇ   ‚îú‚îÄ‚îÄ logo512.png
‚îÇ   ‚îú‚îÄ‚îÄ manifest.json
‚îÇ   ‚îî‚îÄ‚îÄ robots.txt
‚îî‚îÄ‚îÄ src
    ‚îú‚îÄ‚îÄ App.css
    ‚îú‚îÄ‚îÄ App.js
    ‚îú‚îÄ‚îÄ App.test.js
    ‚îú‚îÄ‚îÄ index.css
    ‚îú‚îÄ‚îÄ index.js
    ‚îú‚îÄ‚îÄ logo.svg
    ‚îî‚îÄ‚îÄ serviceWorker.js
```

</CodeSurfer>

<FootNote>
  Le point d'entr√©e de l'application est le fichier{' '}
  <strong>src/index.js</strong>.
</FootNote>

---

import CreateReactApp from './static/create-react-app.png';

<img src={CreateReactApp} style={{ width: 'auto', height: '65vh' }} />

<FootNote>
  En utilisant la commande <strong>yarn start</strong>, cette page devrait
  s'afficher dans votre navigateur.
</FootNote>

---

## Vous √™tes pr√™ts √† travailler, happy coding ü§ó.

---

## React Dev Tools

---

### Une extension navigateur pour debugger des applications React.js

---

import ReactDevTools from './static/react-dev-tools.png';

<img src={ReactDevTools} style={{ width: 'auto', height: '70vh' }} />

<FootNote>
  Disponible sur{' '}
  <a
    href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi"
    target="_blank"
  >
    Chrome
  </a>{' '}
  et{' '}
  <a
    href="https://addons.mozilla.org/en-US/firefox/addon/react-devtools/"
    target="_blank"
  >
    Firefox
  </a>
</FootNote>

---

import ReactDevToolsComponentsTree from './static/react-dev-tools-components-tree.png';

<img
  src={ReactDevToolsComponentsTree}
  style={{ width: 'auto', height: '70vh' }}
/>

---

import ReactDevToolsFlamegraph from './static/react-dev-tools-flamegraph.png';

<img src={ReactDevToolsFlamegraph} style={{ width: 'auto', height: '70vh' }} />

<FootNote>
  üìö{' '}
  <a
    href="https://reactjs.org/blog/2018/09/10/introducing-the-react-profiler.html"
    target="_blank"
  >
    Introducing the React Profiler
  </a>
</FootNote>

---

## D√©ployer une application React.js

---

### `create-react-app` est en mesure de g√©n√©rer pour vous un export statique de votre application web avec la commande **yarn build**.

---

<CodeSurfer theme={nightOwl}>

```bash
app-name
‚îî‚îÄ‚îÄ build
    ‚îú‚îÄ‚îÄ asset-manifest.json
    ‚îú‚îÄ‚îÄ favicon.ico
    ‚îú‚îÄ‚îÄ index.html
    ‚îú‚îÄ‚îÄ logo192.png
    ‚îú‚îÄ‚îÄ logo512.png
    ‚îú‚îÄ‚îÄ manifest.json
    ‚îú‚îÄ‚îÄ precache-manifest.a3de7dc90081be00fbc342ae7cc26178.js
    ‚îú‚îÄ‚îÄ robots.txt
    ‚îú‚îÄ‚îÄ service-worker.js
    ‚îî‚îÄ‚îÄ static

```

</CodeSurfer>

<FootNote>
  L'export statique se trouve dans le dossier <strong>build</strong> de votre
  projet.
</FootNote>

---

## Il existe 2 grands moyens de d√©ployer une application web pour la rendre accessible :

<Steps>

- Utiliser un serveur web avec [FTP](https://social.hoga.fr/system/media_attachments/files/000/000/494/original/c3fde188f35aa92d.png) par exemple
- Utiliser un CDN/PaaS

</Steps>

---

## Nous allons utiliser [Netlify](https://www.netlify.com/)

---

## Netlify est une plateforme cloud permettant le d√©ploiement "simple" d'applications web statiques.

---

<Steps>

- Plan gratuit tr√®s g√©n√©reux (100GB/mois)
- Int√©grations GitHub/BitBucket/Gitlab
- Continuous deployment
- Autres fonctionnalit√©s int√©ressantes (Lambda functions, Forms, Auth, etc.)

</Steps>

---

import Netlify00 from './static/netlify-00.png';

<img src={Netlify00} style={{ width: 'auto', height: '75vh' }} />

---

import Netlify01 from './static/netlify-01.png';

<img src={Netlify01} style={{ width: 'auto', height: '70vh' }} />

<FootNote>
  √âtape 1 : Cr√©er un site √† partir d'un dossier statique ou un repository Git
</FootNote>

---

import Netlify02 from './static/netlify-02.png';

<img src={Netlify02} style={{ width: 'auto', height: '75vh' }} />

<FootNote>√âtape 2 : Avec Git, il faut effectuer une connexion OAuth</FootNote>

---

import Netlify03 from './static/netlify-03.png';

<img src={Netlify03} style={{ width: 'auto', height: '75vh' }} />

<FootNote>√âtape 3 : S√©lectionner son repository</FootNote>

---

import Netlify04 from './static/netlify-04.png';

<img src={Netlify04} style={{ width: 'auto', height: '75vh' }} />

<FootNote>
  √âtape 4 : D√©finir le contexte de <strong>build</strong>
</FootNote>

---

import Netlify05 from './static/netlify-05.png';

<img src={Netlify05} style={{ width: 'auto', height: '75vh' }} />

<FootNote>√âtape 5 : Votre site est disponible √† l'URL indiqu√©e</FootNote>

---

## L'AJAX avec React.js

---

## **Asynchronous JavaScript and XML**

---

## L'AJAX permet a des interfaces web d'effectuer des actions asynchrones sans pour autant recharger la page du navigateur.

---

#### Les applications React.js mettent √† jour l'interface utilisateur sans jamais recharger la page du navigateur. AJAX est donc la seule mani√®re de charger de nouvelles donn√©es n√©cessaires √† l'application :

<Steps>

- Du contenu depuis une API
- Soumettre un formulaire au serveur
- Envoyer des donn√©es Analytics

</Steps>

---

<CodeSurfer theme={nightOwl}>

```jsx subtitle="Nous souhaitons afficher la liste des posts expos√©s par cette API"
const API_ENDPOINT = 'https://jsonplaceholder.typicode.com/posts';
```

```jsx subtitle="Avec Fetch, on effectue une requ√™te AJAX √† cette URL"
const API_ENDPOINT = 'https://jsonplaceholder.typicode.com/posts';

fetch(API_ENDPOINT);
```

```jsx subtitle="Comme cette instruction est asynchrone, on utilise 'then' pour effectuer une op√©ration lorsque l'on r√©cup√®re le r√©sultat"
const API_ENDPOINT = 'https://jsonplaceholder.typicode.com/posts';

fetch(API_ENDPOINT).then((response) => {
  console.log(response);
});
```

```jsx subtitle="On peut cha√Æner plusieurs 'then', notamment pour utiliser la r√©ponse au format JSON"
const API_ENDPOINT = 'https://jsonplaceholder.typicode.com/posts';

fetch(API_ENDPOINT)
  .then((response) => {
    return response.json();
  })
  .then((json) => {
    console.log(json);
  });
```

</CodeSurfer>

---

## Et avec React.js ?

---

<CodeSurfer theme={nightOwl}>

```jsx subtitle="Nous souhaitons afficher la liste des posts dans l'App"
import React from 'react';

const API_ENDPOINT = 'https://jsonplaceholder.typicode.com/posts';

const App = () => {
  return (
    <div>
      <h1>The New Yorker</h1>

      <ul>
        <li>Breaking News: 1</li>
        <li>Breaking News: 2</li>
      </ul>
    </div>
  );
};
```

```jsx subtitle="On ne doit charger les posts qu'√† l'initialisation du composant"
import React, { useEffect } from 'react';

const API_ENDPOINT = 'https://jsonplaceholder.typicode.com/posts';

const App = () => {
  useEffect(() => {
    console.log('Hello, I just wake up!');
  }, []);

  return (
    <div>
      <h1>The New Yorker</h1>

      <ul>
        <li>Breaking News: 1</li>
        <li>Breaking News: 2</li>
      </ul>
    </div>
  );
};
```

```jsx subtitle="Une fois charg√©s, il faut trouver un moyen de les stocker et d'y acc√©der dans le JSX"
import React, { useEffect } from 'react';

const API_ENDPOINT = 'https://jsonplaceholder.typicode.com/posts';

const App = () => {
  useEffect(() => {
    fetch(API_ENDPOINT)
      .then((response) => {
        return response.json();
      })
      .then((json) => {
        console.log('Posts are back from the API!', json);
      });
  }, []);

  return (
    <div>
      <h1>The New Yorker</h1>

      <ul>
        <li>Breaking News: 1</li>
        <li>Breaking News: 2</li>
      </ul>
    </div>
  );
};
```

```jsx subtitle="On peut utiliser le hook 'useState' pour le faire"
import React, { useEffect, useState } from 'react';

const API_ENDPOINT = 'https://jsonplaceholder.typicode.com/posts';

const App = () => {
  const [posts, setPosts] = useState([]);

  useEffect(() => {
    fetch(API_ENDPOINT)
      .then((response) => {
        return response.json();
      })
      .then((json) => {
        setPosts(json);
      });
  }, []);

  return (
    <div>
      <h1>The New Yorker</h1>

      <ul>
        <li>Breaking News: 1</li>
        <li>Breaking News: 2</li>
      </ul>
    </div>
  );
};
```

```jsx subtitle="Et ensuite boucler √† travers les posts dans le JSX pour les afficher"
import React, { useEffect, useState } from 'react';

const API_ENDPOINT = 'https://jsonplaceholder.typicode.com/posts';

const App = () => {
  const [posts, setPosts] = useState([]);

  useEffect(() => {
    fetch(API_ENDPOINT)
      .then((response) => {
        return response.json();
      })
      .then((json) => {
        setPosts(json);
      });
  }, []);

  return (
    <div>
      <h1>The New Yorker</h1>

      <ul>
        {posts.map((post) => (
          <li key={post.id}>{post.title}</li>
        ))}
      </ul>
    </div>
  );
};
```

</CodeSurfer>

---

## üë®‚Äçüî¨ Nous allons r√©aliser une application permettant de d√©couvrir des articles Wikipedia

---

## Le CSS-in-JS

---

## Le CSS-in-JS est une m√©thodologie visant √† √©crire son style au sein de fichiers Javascript.

---

## Elle a √©t√© d√©mocratis√©e avec le d√©veloppement d'interface utilisateurs orient√© composants.

<FootNote>
  üìö{' '}
  <a href="https://www.youtube.com/watch?v=bIK2NwoK9xk&feature=youtu.be&t=114">
    Max Stoiber - The Component Age & Styling React Applications
  </a>
</FootNote>

---

<CodeSurfer theme={nightOwl}>

```jsx subtitle="Cette impl√©mentation n'a de sens que lorsque l'on travaille √† l'√©chelle de pages li√©es √† des feuilles de style"
<Button className="btn"></Button>
<Button className="btn btn--primary"></Button>
```

```jsx subtitle="√Ä l'√©chelle d'un composant, on pr√©f√®re encapsuler tout son fonctionnement en un fichier"
<Button></Button>
<Button primary></Button>
```

</CodeSurfer>

---

## If you're using React, you have access to a more powerful styling construct than CSS class names. You have components.

#### -Michael Chan

---

<CodeSurfer theme={nightOwl}>

```jsx
<App>
  <Header variation="dark">
    <Navigation>
      <Link active to="/about">
        About us
      </Link>
      <Link to="/contact">Contact</Link>
    </Navigation>
  </Header>
</App>
```

</CodeSurfer>

---

## Il existe des dizaines de solutions de CSS-in-JS avec React.js

<Steps>

- [Styled-components](https://github.com/styled-components/styled-components)
- [Styled JSX](https://github.com/zeit/styled-jsx)
- [JSS](https://github.com/cssinjs/jss)
- [Glamor](https://github.com/threepointone/glamor)
- [Emotion](https://github.com/emotion-js/emotion)
- [Aphrodite](https://github.com/Khan/aphrodite)

</Steps>

---

## Nous allons utiliser [Styled-components](https://styled-components.com/docs)

---

<CodeSurfer theme={nightOwl}>

```jsx
import styled from 'styled-components';
```

```jsx
import styled from 'styled-components';

const Button = styled.button`
  color: palevioletred;
  background-color: papayawhip;
  padding: 1em;
`;
```

```jsx
import styled from 'styled-components';

const Button = styled.button`
  color: palevioletred;
  background-color: papayawhip;
  padding: 1em;
`;

const App = () => (
  <div>
    <Button>Click me</Button>
  </div>
);
```

```jsx
import styled from 'styled-components';

const Button = styled.button`
  color: palevioletred;
  background-color: papayawhip;
  padding: ${(props) => (props.primary ? 2 : 1)}em;
`;

const App = () => (
  <div>
    <Button>Click me</Button>
    <Button primary>Click me</Button>
  </div>
);
```

```jsx
import styled from 'styled-components';

const Button = styled.button`
  color: palevioletred;
  background-color: papayawhip;
  padding: ${(props) => (props.primary ? 2 : 1)}em;

  span {
    color: red;
  }
`;

const App = () => (
  <div>
    <Button>
      <span>I'm a red span inside a Button</span>
    </Button>
    <Button primary>Click me</Button>
  </div>
);
```

```jsx
import styled from 'styled-components';

const Button = styled.button`
  color: palevioletred;
  background-color: papayawhip;
  padding: ${(props) => (props.primary ? 2 : 1)}em;

  span {
    color: red;
  }
`;

const SmallButton = styled(Button)`
  font-size: 12px;
`;

const App = () => (
  <div>
    <SmallButton>
      <span>I'm a red span inside a Button</span>
    </SmallButton>
    <Button primary>Click me</Button>
  </div>
);
```

</CodeSurfer>

---

## Le routing

---

## De mani√®re g√©n√©rale, le routing est le processus qui fait correspondre un chemin √† une ressource.

---

### En d√©ployant un site web compos√© de pages HTML statiques, vous laissez le serveur web s'occuper de faire correspondre une URL au fichier correspondant.

### L'URL **/** affiche le fichier **index.html**

---

### Avec React.js, peu importe le chemin demand√©, on charge toujours le fichier **index.html**. C'est un package Javascript qui se chargera d'afficher les composants associ√©s √† la page demand√©e.

---

## Il existe plusieurs solutions de routing avec React.js

<Steps>

- [React router](https://github.com/ReactTraining/react-router)
- [Reach router](https://github.com/reach/router)
- [Router 5](https://github.com/router5/router5)

</Steps>

---

## Nous allons utiliser [React router](https://reacttraining.com/react-router/web/guides/quick-start)

---

<CodeSurfer theme={nightOwl}>

```jsx
import React from 'react';
import { render } from 'react-dom';

const App = () => {
  return <div>Hello from my App</div>;
};

ReactDOM.render(<App />, document.getElementById('root'));
```

```jsx
import React from 'react';
import { render } from 'react-dom';
import { BrowserRouter, Switch, Route } from 'react-router-dom';

const App = () => {
  return (
    <BrowserRouter>
      <Switch>
        <Route path="/">
          <div>Hello from my App</div>
        </Route>
      </Switch>
    </BrowserRouter>
  );
};

ReactDOM.render(<App />, document.getElementById('root'));
```

```jsx
import React from 'react';
import { render } from 'react-dom';
import { BrowserRouter, Switch, Route } from 'react-router-dom';

const App = () => {
  return (
    <BrowserRouter>
      <Switch>
        <Route path="/about">
          <div>Hello from About page</div>
        </Route>
        <Route path="/">
          <div>Hello from Home page</div>
        </Route>
      </Switch>
    </BrowserRouter>
  );
};

ReactDOM.render(<App />, document.getElementById('root'));
```

```jsx
import React from 'react';
import { render } from 'react-dom';
import { BrowserRouter, Switch, Route, Link } from 'react-router-dom';

const App = () => {
  return (
    <BrowserRouter>
      <header>
        <Link to="/">Homepage</Link>
        <Link to="/about">About</Link>
      </header>

      <Switch>
        <Route path="/about">
          <div>Hello from About page</div>
        </Route>
        <Route path="/">
          <div>Hello from Home page</div>
        </Route>
      </Switch>
    </BrowserRouter>
  );
};

ReactDOM.render(<App />, document.getElementById('root'));
```

```jsx
import React from 'react';
import { render } from 'react-dom';
import { BrowserRouter, Switch, Route, Link } from 'react-router-dom';

const Home = () => <div>Hello from Home page</div>;
const About = () => <div>Hello from About page</div>;

const App = () => {
  return (
    <BrowserRouter>
      <header>
        <Link to="/">Homepage</Link>
        <Link to="/about">About</Link>
      </header>

      <Switch>
        <Route path="/about" component={About} />
        <Route path="/" component={Home} />
      </Switch>
    </BrowserRouter>
  );
};

ReactDOM.render(<App />, document.getElementById('root'));
```

```jsx
import React from 'react';
import { render } from 'react-dom';
import { useParams } from 'react-router';
import { BrowserRouter, Switch, Route, Link } from 'react-router-dom';

const Home = () => <div>Hello from Home page</div>;
const About = () => <div>Hello from About page</div>;
const BlogPost = () => {
  const { postId } = useParams();
  return <div>Post: {postId}</div>;
};

const App = () => {
  return (
    <BrowserRouter>
      <header>
        <Link to="/">Homepage</Link>
        <Link to="/about">About</Link>
      </header>

      <Switch>
        <Route path="/blog/:postId" component={BlogPost} />
        <Route path="/about" component={About} />
        <Route path="/" component={Home} />
      </Switch>
    </BrowserRouter>
  );
};

ReactDOM.render(<App />, document.getElementById('root'));
```

</CodeSurfer>

---

## Les performances

---

## L'√©cosyst√®me React

<Link step={39}>Thinking in React</Link>
<Link step={45}>The React community</Link>
<Link step={51}>React.js developer roadmap</Link>

---

## Thinking in React

---

## The React community

---

## React.js developer roadmap
