import { Head, Header, Steps } from 'mdx-deck'
import { CodeSurfer } from "code-surfer"
import { nightOwl } from "@code-surfer/themes"
import { FootNote } from './components/FootNote'
import { Logo } from './components/Logo'
import { theme as myTheme } from './theme'

export const theme = myTheme

<Head>
  <title>
    🚀 Introduction à React.js — @greeeg
  </title>
</Head>

<Header>
  <Logo />
</Header>

# Introduction à React.js

HETIC P2023

---

# Hello 💂‍♂️

---

# Grégoire Mielle

- 📣 Twitter: [@greeeg](https://twitter.com/greeeg)
- 🔬 GitHub: [@greeeg](https://github.com/greeeg)
- ✏️ Email: [hello@greeeg.com](mailto:hello@greeeg.com)

---

<Steps>

- 👨‍💻 Étudiant en H5
- 👨‍🚀 Software Engineer [@PayFit](https://payfit.com/en/)
- 💸 Freelance

</Steps>

---

<Steps>

- Une expertise pour tout le monde
- Une compétence pour vos futurs projets & stages
- Si vous êtes perdu, dites-le
- Challengez-moi !

</Steps>

---

# Méthodologie

- 📚 Must read
- 🍿 Must watch
- ⚡️ Must learn
- 👨‍🔬 Action time

---

# Un peu d'histoire...

Comment fonctionne l'affichage d'une page web ?

---

import SSRDiagram from './static/ssr-diagram.png'

<img src={SSRDiagram} style={{ width: 'auto', height: '70vh' }} />

<FootNote>📚 <a href="https://www.freecodecamp.org/news/how-the-web-works-a-primer-for-newcomers-to-web-development-or-anyone-really-b4584e63585c/">Comment le web fonctionne ?</a></FootNote>

---

import ClientSideRenderingDiagram from './static/client-side-rendering-diagram.png'

<img src={ClientSideRenderingDiagram} style={{ width: 'auto', height: '70vh' }} />

---

import AndroidJqueryReact from './static/android-jquery-react.png'

<img src={AndroidJqueryReact} style={{ width: '60vw', height: 'auto', marginBottom: 40 }} />

Quel est le lien entre toutes ces technologies ?

---

# Technologies client-side

<Steps>

- Interfaces plus complexes
- Beaucoup plus d'interactions

</Steps>

---

# Les besoins côté utilisateur ont évolué

- Expérience mobile (3G, offline, etc.)
- Sources de données nombreuses

<FootNote>📚 <a href="https://web.dev/">Le futur du web avec Google - Web.dev</a></FootNote>

---

import Craiglist from './static/craiglist.png'

<img src={Craiglist} style={{ height: '60vh', width: 'auto' }} />

---

import Twitter from './static/twitter.png'

<img src={Twitter} style={{ height: '60vh', width: 'auto' }} />

---

# De nouvelles solutions ont émergé

- Jquery (2006)
- Angular.js (2009)
- Ember.js (2011)
- React.js (2013)
- Vue.js (2014)

---

# 🤔

<Steps>

- Comment bien les choisir ?
- Quelles différences/ressemblances ?

</Steps>

---

# 📚 [State of JS - 2019 Edition](https://2019.stateofjs.com/)

---

import ReactNPMStats from './static/react-npm-stats.png'

<img src={ReactNPMStats} style={{ height: '50vh', width: 'auto' }} />

---

import ReactGitHubStats from './static/react-github-stats.png'

<img src={ReactGitHubStats} style={{ width: '80vw', height: 'auto' }} />

---

import ReactChromeStats from './static/react-chrome-stats.png'

<img src={ReactChromeStats} style={{ width: '60vw', height: 'auto' }} />

---

# React.js

A JavaScript library for building user interfaces

---

<Steps>

- Declarative
- Component-Based
- Learn Once, Write Anywhere

</Steps>

---

# Declarative vs Imperative

**Dessine un chat.** vs **Fais un trait noir, puis un arrondi vers le bas, etc.**

<FootNote>📚 <a href="https://codeburst.io/declarative-vs-imperative-programming-a8a7c93d9ad2">Declarative vs Imperative programming</a></FootNote>

---

import SheetImperative from './static/sheet-imperative.gif'

# Imperative

<img src={SheetImperative} style={{ width: '50vw', height: 'auto', marginBottom: 50 }} />

On doit effectuer un calcul à chaque modification d'une des 2 variables qui définissent "fullname"

---

import SheetDeclarative from './static/sheet-declarative.gif'

# Declarative

<img src={SheetDeclarative} style={{ width: '50vw', height: 'auto', marginBottom: 50 }} />

On déclare comment "fullname" est défini sans jamais le modifier manuellement

---

import ComponentsTree from './static/components-tree.png'

# Component-based

<img src={ComponentsTree} style={{ width: 'auto', height: '40vh' }} />

<FootNote>📚 <a href="https://itnext.io/a-guide-to-component-driven-development-cdd-1516f65d8b55">A Guide to Component Driven Development</a></FootNote>

---

import ReactPlatforms from './static/react-platforms.png'

# Learn Once, Write Anywhere

<img src={ReactPlatforms} style={{ width: '60vw', height: 'auto' }} />

<FootNote>🍿 <a href="https://reactpodcast.simplecast.fm/81">React Podcast: Evan Bacon on Expo and the Future of "Build Once; Run Anywhere"</a></FootNote>

---

# Qui l'utilise ?

- Facebook (FB.com, WhatsApp, Instagram)
- American Express
- Apple
- Baidu
- Netflix
- Uber

---

# Qui l'utilise ?

- Skype
- Tesla
- Slack
- Discord
- Walmart
- Pinterest

---

# Qui l'utilise ?

- Twitter
- PayPal
- Tinder
- AirBnB
- Dropbox
- PayFit

---

# Hello World 🚀

---

# Comment crée-t-on un élément du DOM en Javascript ?

---

<CodeSurfer theme={nightOwl}>

```html subtitle="On recupere une reference de notre parent"
<body>
  <div id="root"></div>

  <script type="text/javascript">
    function addHelloWorld() {
      const root = document.querySelector('#root')
    }
  </script>
</body>
```

```html subtitle="On cree un element"
<body>
  <div id="root"></div>

  <script type="text/javascript">
    function addHelloWorld() {
      const root = document.querySelector('#root')
      const element = document.createElement('div')
      element.textContent = 'Hello World'
      element.className = 'container'
    }
  </script>
</body>
```

```html 1:13 subtitle="On l'ajoute dans le parent"
<body>
  <div id="root"></div>

  <script type="text/javascript">
    function addHelloWorld() {
      const root = document.querySelector('#root')
      const element = document.createElement('div')
      element.textContent = 'Hello World'
      element.className = 'container'
      root.appendChild(element)
    }
  </script>
</body>
```

</CodeSurfer>

---

# Avec React.js

---

<CodeSurfer theme={nightOwl}>

```html subtitle="On importe deux packages/librairies"
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script type="text/javascript">

  </script>
</body>
```

```html subtitle="On recupere une reference de notre parent"
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script type="text/javascript">
    const root = document.getElementById('root')
  </script>
</body>
```

```html subtitle="On cree notre element"
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script type="text/javascript">
    const root = document.getElementById('root')
    const element = React.createElement('div', {
      className: 'container',
      children: 'Hello World',
    })
  </script>
</body>
```

```html subtitle="On l'ajoute dans le parent"
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script type="text/javascript">
    const root = document.getElementById('root')
    const element = React.createElement('div', {
      className: 'container',
      children: 'Hello World',
    })
    ReactDOM.render(element, root)
  </script>
</body>
```

</CodeSurfer>

---

# Pour utiliser React.js on a donc besoin de 2 packages

<Steps>

- **React**: La logique pour construire des interfaces
- **React DOM**: Les logiques d'interaction avec le DOM

</Steps>

---

<CodeSurfer theme={nightOwl}>

```html
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script type="text/javascript">
    const root = document.getElementById('root')
    const element = React.createElement('div', {
      className: 'container',
      children: 'Hello World',
    })
    ReactDOM.render(element, root)
  </script>
</body>
```

```html subtitle="Du HTML dans du Javascript 🤔"
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
  <script type="text/babel">
    const root = document.getElementById('root')
    const element = <div className="container">Hello World</div>
    ReactDOM.render(element, root)
  </script>
</body>
```

</CodeSurfer>

---

# Le JSX

<Steps>

- Une extension syntaxique au Javascript
- Transpilé par [Babel](https://babeljs.io/en/repl#?browsers=&build=&builtIns=false&spec=false&loose=false&code_lz=MYewdgzgLgBApgGzgWzmWBeGAeAJgSwDcZgEBDCCAOTNQwCJR0z8w4AnegPgAlEEQMAOoh2CXNgD0BQlyA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=false&fileSize=false&timeTravel=false&sourceType=module&lineWrap=true&presets=es2015%2Creact%2Cstage-2&prettier=false&targets=&version=7.8.7&externalPlugins=) en Javascript
- Permet de définir des composants React simplement

</Steps>

<FootNote>📚 <a href="https://jasonformat.com/wtf-is-jsx/">WTF is JSX?</a></FootNote>

---

<CodeSurfer theme={nightOwl}>

```jsx subtitle="Mais du coup si c'est du Javascript 🤯"
const root = document.getElementById('root')

const element = <div className="container">Hello World</div>
ReactDOM.render(element, root)
```

```jsx
const root = document.getElementById('root')

const text = "Hello World"
const element = <div className="container">{text}</div>
ReactDOM.render(element, root)
```

```jsx
const root = document.getElementById('root')

const text = "Hello World"
const element = <div className="container">{text.toUpperCase()}</div>
ReactDOM.render(element, root)
```

```jsx
const root = document.getElementById('root')

const text = "Hello World"
const attributes = {
  className: "container",
  style: {
    color: "red"
  }
}
const element = <div {...attributes}>{text.toUpperCase()}</div>
ReactDOM.render(element, root)
```

</CodeSurfer>

---

# Les composants React.js

---

## On definit un composant comme etant un element qui entre dans la composition de quelque chose 

---


<CodeSurfer theme={nightOwl}>

```jsx subtitle="Imaginons que je souhaite afficher un message dans mon application"
const root = document.getElementById('root')

const element = (
  <div className="container">
    <p className="message">Hello World</p>
  </div>
)

ReactDOM.render(element, root)
```

```jsx subtitle="Il se peut que je souhaite afficher plusieurs messages à plusieurs endroits"
const root = document.getElementById('root')

const element = (
  <div className="container">
    <p className="message">Hello World</p>
    <p className="message">Goodbye World</p>
  </div>
)

ReactDOM.render(element, root)
```

```jsx subtitle="Je peux externaliser ce qui represente un message dans une variable"
const root = document.getElementById('root')

const message = <p className="message">Hello World</p>

const element = (
  <div className="container">
    {message}
    {message}
  </div>
)

ReactDOM.render(element, root)
```

```jsx subtitle="C'est un composant React.js"
const root = document.getElementById('root')

const message = (props) => <p className="message">{props.children}</p>

const element = (
  <div className="container">
    {React.createElement(message, { children: "Hello World" })}
    {React.createElement(message, { children: "Goodbye World" })}
  </div>
)

ReactDOM.render(element, root)
```

```jsx subtitle="En JSX, je peux l'ecrir simplement comme ceci"
const root = document.getElementById('root')

const Message = (props) => <p className="message">{props.children}</p>

const element = (
  <div className="container">
    <Message>Hello World</Message>
    <Message>Goodbye World</Message>
  </div>
)

ReactDOM.render(element, root)
```

</CodeSurfer>

---

import LegoBricks from './static/lego-bricks.png'

<img src={LegoBricks} style={{ width: '60vw', height: 'auto' }} />

---

import LegoComponentsGood from './static/lego-components-good.jpeg'
import LegoComponentsBad from './static/lego-components-bad.jpeg'

<div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>
  <img style={{ width: 'auto', height: '50vh', marginRight: 40 }} src={LegoComponentsGood} alt=""/>
  <img style={{ width: 'auto', height: '50vh' }} src={LegoComponentsBad} alt=""/>
</div>

---

# Les props



---

# Le style en React.js

---

## Il existe trois manières de styliser des applications React

---

# En utilisant du CSS classique

---

<CodeSurfer theme={nightOwl}>

```html
<body>
  <div id="root"></div>
  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
  <style>
    .box {
      border: 1px solid #333;
      display: flex;
      flex-direction: column;
      justify-content: center;
      text-align: center;
    }
    .box--large {
      width: 270px;
      height: 270px;
    }
    .box--medium {
      width: 180px;
      height: 180px;
    }
    .box--small {
      width: 90px;
      height: 90px;
    }
  </style>
  <script type="text/babel">
    const Box = ({ size, children}) => {
      const sizeClassName = `box--${size}`

      return (
        <div
          className={`box ${sizeClassName}`}
        >
          {children}
        </div>
      )
    }

    const element = (
      <div>
        <Box size="small">
          small lightblue box
        </Box>
        <Box size="medium">
          medium pink box
        </Box>
        <Box size="large">
          large orange box
        </Box>
      </div>
    )

    ReactDOM.render(element, document.getElementById('root'))
  </script>
</body>
```

```html 6:26
<body>
  <div id="root"></div>
  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
  <style>
    .box {
      border: 1px solid #333;
      display: flex;
      flex-direction: column;
      justify-content: center;
      text-align: center;
    }
    .box--large {
      width: 270px;
      height: 270px;
    }
    .box--medium {
      width: 180px;
      height: 180px;
    }
    .box--small {
      width: 90px;
      height: 90px;
    }
  </style>
  <script type="text/babel">
    const Box = ({ size, children}) => {
      const sizeClassName = `box--${size}`

      return (
        <div
          className={`box ${sizeClassName}`}
        >
          {children}
        </div>
      )
    }

    const element = (
      <div>
        <Box size="small">
          small lightblue box
        </Box>
        <Box size="medium">
          medium pink box
        </Box>
        <Box size="large">
          large orange box
        </Box>
      </div>
    )

    ReactDOM.render(element, document.getElementById('root'))
  </script>
</body>
```

```html 40:52
<body>
  <div id="root"></div>
  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
  <style>
    .box {
      border: 1px solid #333;
      display: flex;
      flex-direction: column;
      justify-content: center;
      text-align: center;
    }
    .box--large {
      width: 270px;
      height: 270px;
    }
    .box--medium {
      width: 180px;
      height: 180px;
    }
    .box--small {
      width: 90px;
      height: 90px;
    }
  </style>
  <script type="text/babel">
    const Box = ({ size, children}) => {
      const sizeClassName = `box--${size}`

      return (
        <div
          className={`box ${sizeClassName}`}
        >
          {children}
        </div>
      )
    }

    const element = (
      <div>
        <Box size="small">
          small lightblue box
        </Box>
        <Box size="medium">
          medium pink box
        </Box>
        <Box size="large">
          large orange box
        </Box>
      </div>
    )

    ReactDOM.render(element, document.getElementById('root'))
  </script>
</body>
```

```html 28:38
<body>
  <div id="root"></div>
  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
  <style>
    .box {
      border: 1px solid #333;
      display: flex;
      flex-direction: column;
      justify-content: center;
      text-align: center;
    }
    .box--large {
      width: 270px;
      height: 270px;
    }
    .box--medium {
      width: 180px;
      height: 180px;
    }
    .box--small {
      width: 90px;
      height: 90px;
    }
  </style>
  <script type="text/babel">
    const Box = ({ size, children}) => {
      const sizeClassName = `box--${size}`

      return (
        <div
          className={`box ${sizeClassName}`}
        >
          {children}
        </div>
      )
    }

    const element = (
      <div>
        <Box size="small">
          small lightblue box
        </Box>
        <Box size="medium">
          medium pink box
        </Box>
        <Box size="large">
          large orange box
        </Box>
      </div>
    )

    ReactDOM.render(element, document.getElementById('root'))
  </script>
</body>
```

</CodeSurfer>

---

# En utilisant du style inline

---

<CodeSurfer theme={nightOwl}>

```jsx
const Header = () => (
  <header style={{ marginTop: 20, fontSize: 17 }}>
    <div style={{ paddingLeft: 10 }}>
      <img src="/assets/logo.png" style={{ width: 100, height: 'auto' }} />
    </div>
  </header>
);
export default Header;
```

</CodeSurfer>

---

# En utilisant des librairies de **CSS-in-JS**
(Nous reviendrons dessus plus tard)

<FootNote>📚 <a href="https://2019.stateofcss.com/technologies/css-in-js/">State of CSS - 2019 Edition</a></FootNote>

---

<CodeSurfer theme={nightOwl}>

```jsx
import React from 'react'
import styled from '@emotion/styled'

const Button = styled.button`
  color: turquoise;
`

export default Button;
```

</CodeSurfer>
